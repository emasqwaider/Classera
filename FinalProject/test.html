<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classera Company | Dashboard</title>
    <link rel="stylesheet" href="CSS/style.css">
    <link rel="stylesheet" href="CSS/main.css">
    <link rel="stylesheet" href="CSS/rating.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>


    <style>
        .main {
            display: flex;
            gap: 10px;
        }

        .left-panel {
            flex: 2;


        }

        .right-panel {
            /* flex: 1; */
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .chart-box,
        .rating-box,
        .attachments {
            background: white;
            padding: 20px;
            border-radius: 10px;
            /* box-shadow: 0 0 10px #ddd; */
            gap: 20px;
            margin-bottom: 10px;
            /* padding: 10px; */

        }

        .repnseSize {
            flex: 2;
        }

        .rating {
            font-size: 24px;
            color: #333;
        }

        .ratio {
            display: inline-block;
            margin-top: 10px;
            font-size: 14px;
            color: #666;
        }


        .canvas {
            width: 610px !important;
            height: 200px !important;
        }
    </style>
</head>

<body>
    <div class="container">
        <aside>
            <div class="brand">
                <img src="images/image.png" alt="classera" class="classeraLogo">
                <h1>Classera</h1>
            </div>
            <div class="menu">
                <ul>
                    <li class="nav-item">
                        <a href="test.html" class="active">
                            <i class='bx bx-menu'></i>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="ticketpage.html">
                            <i class='bx bx-check'></i>
                            Tickets
                        </a>

                    </li>
                    <li class="nav-item">
                        <a href="Customers.html">
                            <i class='bx bx-user'></i>
                            Customers
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="Organizations.html">
                            <i class='bx bx-building-house'></i>
                            Organizations
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="Reports.html">
                            <i class='bx bx-file'></i>
                            Reports
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="Settings.html">
                            <i class='bx bx-cog'></i>
                            Settings
                        </a>
                    </li>
                </ul>
            </div>
            <div class="down">
                <ul>
                    <li class="nav-item">
                        <a href="Sera.html">
                            <i class='bx bx-message'></i>
                            Sera
                        </a>
                    </li>
                    <li class="nav-item">
                        <div class="dark-mode">
                            <i class="bx bx-moon"></i> Dark Mode
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </li>
                </ul>
            </div>
        </aside>

        <header class="hero-header">
            <div class="inputContainer">
                <span class="bx bx-search"></span>
                <input type="text" class="input" placeholder="Search..">
            </div>
            <div class="right">
                <span class="bx bx-envelope"></span>
                <span class="bx bx-bell"></span>
                <span>|</span>
                <span class="bx bx-user-circle"></span>
                <span class="bx bx-caret-down"></span>
            </div>
        </header>
        <!-- Wrap main content in a container with margin-left -->
        <main class="main-content">
            <section class="stats-cards">
                <!-- <div class="stat-card"> -->
                <div class="card">
                    <h3>Total Tickets</h3>
                    <div class="card-content">
                        <span class="bx bx-check box"></span>
                        <div class="con">
                            <p>17,825</p>
                            <span class="percentage">+7.2% <i class="note-text">than last day</i></span>
                        </div>
                    </div>
                    <span class="arrow">&gt;</span>
                </div>

                <div class="card">
                    <h3>Total interactions</h3>
                    <div class="card-content">
                        <span class="bx bx-message box"></span>
                        <div class="con">
                            <p>785,021</p>
                            <span class="percentage">+12.2% <i class="note-text">than last day</i></span>
                        </div>
                    </div>
                    <span class="arrow">&gt;</span>
                </div>

                <div class="card">
                    <h3>Total Users</h3>
                    <div class="card-content">
                        <span class="bx bx-user box"></span>
                        <div class="con">
                            <p>8,482</p>
                            <span class="percentage decrease">+10.2% <i class="note-text">than last
                                    day</i></span>
                        </div>
                    </div>
                    <span class="arrow">&gt;</span>
                </div>

                <div class="card">
                    <h3>Total Groups</h3>
                    <div class="card-content">
                        <span class="bx bx-user box"></span>
                        <div class="con">
                            <p>1,420</p>
                            <span class="percentage">+3.2% <i class="note-text">than last
                                    day</i></span>
                        </div>
                    </div>
                    <span class="arrow">&gt;</span>
                </div>

                <!-- </div> -->

                <div class="main">
                    <div class="left-panel">
                        <div class="chart-box">

                            <h3>Tickets Overview</h3>
                            <div class="canvas" id="tickets-overvieww"></div>

                        </div>

                        <!-- <div class="chart-box">
                            <h4>Response & Resolution Time</h4>
                            <div class="canvas" id="time-bar-chart"></div>
                        </div> -->
                    </div>

                    <div class="right-panel">
                        <div class="card">
                            <h3>Overall Rating</h3>
                            <div class="rating-card">

                                <div class="rating-score">
                                    <span class="rating-value">4.8</span><span class="rating-out-of">/5</span>
                                </div>
                                <div class="stars">
                                    <i class='bx bxs-star'></i>
                                    <i class='bx bxs-star'></i>
                                    <i class='bx bxs-star'></i>
                                    <i class='bx bxs-star'></i>
                                    <i class='bx bxs-star'></i>
                                </div>
                                <div class="rating-ratio">
                                    <span>Rating Ratio</span>
                                    <div class="slider-container">
                                        <div class="slider">
                                            <div class="slider-fill" style="width: 33%;"></div>
                                            <div class="slider-label">33%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="card">
                        <!-- <div class="card"> -->
                        <h3>Attachments Details</h3>
                        <div id="attachments-details"></div>

                        <div class="file-card">
                            <div class="file-info">
                                <div class="file-icon doc-bg"><i class="fa-solid fa-file-word"></i></div>
                                <div>
                                    <div class="file-title">Documents Files</div>
                                    <div class="file-count">1,225</div>
                                </div>

                            </div>
                            <div class="file-size">1.3GB</div>
                        </div>

                        <div class="file-card">
                            <div class="file-info">
                                <div class="file-icon img-bg"><i class="fa-solid fa-file-image"></i></div>
                                <div>
                                    <div class="file-title">Images Files</div>
                                    <div class="file-count">1,849</div>
                                </div>

                            </div>
                            <div class="file-size">7.3GB</div>
                        </div>

                        <div class="file-card">
                            <div class="file-info">
                                <div class="file-icon voice-bg"><i class="fa-solid fa-microphone-lines"></i></div>
                                <div>
                                    <div class="file-title">Voice Files</div>
                                    <div class="file-count">1,005</div>
                                </div>
                            </div>
                            <div class="file-size">4.1GB</div>
                        </div>

                        <div class="file-card">
                            <div class="file-info">
                                <div class="file-icon video-bg"><i class="fa-solid fa-file-video"></i></div>
                                <div>
                                    <div class="file-title">Videos Files</div>
                                    <div class="file-count">723</div>
                                </div>
                            </div>
                            <div class="file-size">1.3GB</div>
                        </div>


                        <!-- </div> -->
                    </div>
                </div>
                <div class="cardd">
                    <div class="mix">
                        <h4>Response & Resolution Time</h4>
                        <div class="canvass" id="time-bar-chart"></div>
                    </div>
                </div>
            </section>
        </main>

    </div>
    <script src="JS/java.js"></script>
    <script src="JS/dark.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>


    <script>
        // Tickets Overview - Line Chart
        var ticketsOptions = {
            chart: {
                type: 'line',
                height: 300,
                toolbar: { show: false }
            },
            series: [{
                name: 'Tickets',
                data: [50, 120, 250, 380, 450, 500, 380]
            }],
            xaxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul']
            },
            stroke: {
                curve: 'smooth',
                width: 2
            },
            markers: {
                size: 4
            },
            colors: ['#3b82f6'],
            grid: {
                borderColor: '#e0e0e0'
            }
        };

        var ticketsChart = new ApexCharts(document.querySelector("#tickets-overvieww"), ticketsOptions);
        ticketsChart.render();

        // Attachments Details - Donut Chart
        var attachmentsOptions = {
            chart: {
                type: 'donut',
                height: 300
            },
            labels: [' ', ' ', ' ', ' '],
            series: [1.3, 7.3, 4.1, 1.3],
            colors: ['#4CAF50', '#2196F3', '#FF9800', '#9C27B0'],
            legend: {
                position: 'bottom'
            },
            plotOptions: {
                pie: {
                    donut: {
                        size: '65%'
                    }
                }
            },
            dataLabels: {
                formatter: function (val) {
                    return val.toFixed(1) + "%";
                }
            }
        };

        var attachmentsChart = new ApexCharts(document.querySelector("#attachments-details"), attachmentsOptions);
        attachmentsChart.render();


    </script>

    <!-- Script -->
    <script>
        var options = {
            chart: {
                type: 'bar',
                height: 180,
                stacked: true,
                toolbar: { show: false }
            },
            plotOptions: {
                bar: {
                    horizontal: true,
                    barHeight: '40%',
                    dataLabels: {
                        position: 'center'
                    }
                }
            },
            dataLabels: {
                enabled: true,
                style: {
                    colors: ['#fff']
                },
                formatter: function (val) {
                    return val + '%';
                }
            },
            series: [
                {
                    // name: 'Within One Day',
                    data: [84, 44]
                },
                {
                    // name: 'Within Two Days',
                    data: [7, 39]
                },
                {
                    // name: 'Within Four Days',
                    data: [5, 11]
                },
                {
                    // name: 'More Than Four Days',
                    data: [4, 6]
                }
            ],
            xaxis: {
                categories: ['Response Time', 'Resolution Time'],
                max: 100
            },
            colors: ['#007bff', '#17a2b8', '#ffc107', '#dc3545'],
            legend: {
                position: 'top'
            },
            grid: {
                borderColor: '#e0e0e0'
            }
        };

        var chart = new ApexCharts(document.querySelector("#time-bar-chart"), options);
        chart.render();
        function updateChartTheme(isDark) {
            const textColor = isDark ? '#ffffff' : '#000000';
            const gridColor = isDark ? '#444' : '#e0e0e0';

            // Update Time Bar Chart
            chart.updateOptions({
                xaxis: {
                    labels: { style: { colors: textColor } }
                },
                yaxis: {
                    labels: { style: { colors: textColor } }
                },
                legend: {
                    labels: { colors: textColor }
                },
                grid: {
                    borderColor: gridColor
                },
                dataLabels: {
                    style: {
                        colors: [textColor]
                    }
                }
            });

            // Update Tickets Line Chart
            ticketsChart.updateOptions({
                xaxis: {
                    labels: { style: { colors: textColor } }
                },
                yaxis: {
                    labels: { style: { colors: textColor } }
                },
                legend: {
                    labels: { colors: textColor }
                },
                grid: {
                    borderColor: gridColor
                }
            });

            // Update Attachments Donut Chart
            attachmentsChart.updateOptions({
                legend: {
                    labels: { colors: textColor }
                },
                dataLabels: {
                    style: { colors: [textColor] }
                }
            });
        }

    </script>

</body>

</html>